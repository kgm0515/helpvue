import{d,I as p,a1 as h,u as A,h as C,l as P,a2 as v,a3 as y,a4 as g,a5 as w,a6 as b,a7 as _,a8 as x,a9 as E,aa as O,ab as j,ac as L,ad as R,ae as $,af as S}from"./chunks/framework.1dba41a0.js";import{t as c}from"./chunks/theme.3dae254f.js";import{C as i}from"./chunks/index.c86873a9.js";i.install=(e,t)=>D(e,t,i);const u=Object.freeze(Object.defineProperty({__proto__:null,Button:i},Symbol.toStringTag,{value:"Module"})),T={prefix:"pvue"};function D(e,t,n){Object.assign(T,t||{});let a=n.name;if(!(a&&typeof a=="string"))throw new Error("组件必须有name属性");a=a.toLocaleLowerCase();const r=t&&t.hasOwnProperty("prefix")?t.prefix:"pvue",f=r.slice(0,1).toUpperCase()+r.slice(1),m=a.split("-").filter(o=>!!o).map(o=>o.slice(0,1).toUpperCase()+o.slice(1)).join("");return[`${r}-${a}`,`${f}${m}`].forEach(o=>e.component(o,n)),e}const I={install(e,t){for(const n in u){const a=u[n];a.install&&e.use(a,t)}return e}};const F={...c,enhanceApp(e){c.enhanceApp(e),e.app.use(I)}};function l(e){if(e.extends){const t=l(e.extends);return{...t,...e,async enhanceApp(n){t.enhanceApp&&await t.enhanceApp(n),e.enhanceApp&&await e.enhanceApp(n)}}}return e}const s=l(F),N=d({name:"VitePressApp",setup(){const{site:e}=A();return C(()=>{P(()=>{document.documentElement.lang=e.value.lang,document.documentElement.dir=e.value.dir})}),v(),y(),g(),s.setup&&s.setup(),()=>w(s.Layout)}});async function U(){const e=B(),t=V();t.provide(b,e);const n=_(e.route);return t.provide(x,n),t.component("Content",E),t.component("ClientOnly",O),Object.defineProperties(t.config.globalProperties,{$frontmatter:{get(){return n.frontmatter.value}},$params:{get(){return n.page.value.params}}}),s.enhanceApp&&await s.enhanceApp({app:t,router:e,siteData:j}),{app:t,router:e,data:n}}function V(){return L(N)}function B(){let e=p,t;return R(n=>{let a=$(n);return e&&(t=a),(e||t===a)&&(a=a.replace(/\.js$/,".lean.js")),p&&(e=!1),S(()=>import(a),[])},s.NotFound)}p&&U().then(({app:e,router:t,data:n})=>{t.go().then(()=>{h(t.route,n.site),e.mount("#app")})});export{U as createApp};
